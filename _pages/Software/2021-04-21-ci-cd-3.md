---
layout: page
status: publish
published: true
title: Aufsetzen des quay.io-Repositories
thumbnail: /assets/thumbnail/ni0ByXc-300x225.jpg
author:
  display_name: klenkes74
  login: klenkes74
  email: roland@lichti.de
  url: ''
author_login: klenkes74
author_email: roland@lichti.de
wordpress_id: 786
wordpress_url: https://www.lichti.de/?p=786
date: '2021-04-21 08:00:00 +0200'
date_gmt: '2021-04-21 06:00:00 +0200'
categories:
- Softwareschnipsel
- OpenShift
- Deutsch
tags:
- build
- Java
- maven
- Software
- quay.io
- GitHub
- GitHub Actions
- CI/CD
- Pipeline
comments: []
---
<p><!-- wp:paragraph --></p>
<p>In diesem Teil der Artikelserie befassen wir uns, nachdem das <a href="https://www.lichti.de/2021/04/19/ci-cd-2/">GitHub-Source-Repository existert</a>, mit dem quay.io-Repository und dem Einrichten eines Robot-Benutzers für die Nutzung durch GitHub Actions.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:more --><br />
<!--more--><br />
<!-- /wp:more --></p>
<p><!-- wp:paragraph --></p>
<p>Als erstes braucht man natürlich einen Account auf quay.io. Wie das geht, findet Ihr ganz leicht selbst heraus. Im April ändert sich auch etwas, quay.io wird in das SSO-System von Red Hat eingebunden. Daher macht es keinen Sinn, die notwendigen Schritte hier zu erklären.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Das Anlegen eines neuen Repositories ist recht einfach:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":789,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://www.lichti.de/wp-content/uploads/2021/04/Screenshot-2021-04-17-at-11.11.36-1024x195.png" alt="" class="wp-image-789"/><br />
<figcaption>Anlegen eines neuen Repositories in quay.io</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Entweder man klickt einfach im Bildschirm auf das "<kbd>+ Create New Repository</kbd>" oder öffnet mit dem "<kbd>+</kbd>" oben das Menü und wählt dann "<kbd>New Repository</kbd>".</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Im folgenden Screen kann man dann den Namen des Repositories wählen Den typ lässt man unverändert, wir wollen ja ein <kbd>Container Image Repository</kbd>. <strong><em>Außerdem ist es extrem wichtig, es auf öffentlich zu schalten!</em></strong></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":790,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://www.lichti.de/wp-content/uploads/2021/04/Screenshot-2021-04-17-at-11.13.29-1024x300.png" alt="" class="wp-image-790"/></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Der Größte Teil ist damit schon erledigt. Jetzt brauchen wir noch einen Benutzer für GitHub und müssen ihm Zugriff auf dieses Repository erteilen. Dazu klicken wir auf unseren Usernamen:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":791,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://www.lichti.de/wp-content/uploads/2021/04/Screenshot-2021-04-17-at-11.17.03-1024x207.png" alt="" class="wp-image-791"/></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Und in den sich öffenen Settings legen wir in den "<kbd>Robot Accounts</kbd>" durch das "<kbd>+ Create Robot Account</kbd>" einen neuen Account an.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":792,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://www.lichti.de/wp-content/uploads/2021/04/Screenshot-2021-04-17-at-11.18.34-1024x234.png" alt="" class="wp-image-792"/></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Es öffnet sich ein Requestor, der nach Accountnamen und einer Beschreibung fragt:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":793,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://www.lichti.de/wp-content/uploads/2021/04/Screenshot-2021-04-17-at-11.20.08.png" alt="" class="wp-image-793"/><br />
<figcaption>Anlegen eines neuen Roboter-Accounts</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Sobald man auf "<kbd>Create robot account</kbd>" klickt, öffnet sich die Seite, auf der man diesem Account die Berechtigung auf Repositories erteilen kann:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":794,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://www.lichti.de/wp-content/uploads/2021/04/Screenshot-2021-04-17-at-11.21.25.png" alt="" class="wp-image-794"/></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Einfach die gewünschten Repositories mit "<kbd>Write</kbd>"-Rechten ausstatten und der Account wird funktionieren. Auf den neuen Button "<kbd>Add permissions</kbd>" klicken (der Button erscheint erst, wenn man auch eine entsprechende Permission ausgewählt hat). Und der Account wurde angelegt und taucht in der Liste der Robot Accounts auf. Den Token kann man einsehen, in dem man in der Liste das Zahnrad ("Settings") und dann dort "<kbd>View Credentials</kbd>" auswählt:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":795,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://www.lichti.de/wp-content/uploads/2021/04/Screenshot-2021-04-17-at-11.24.29-1024x110.png" alt="" class="wp-image-795"/></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Es öffnet sich wieder ein Requester und man sieht gleich den notwendigen Username und das Token für die GitHub-Secrets (siehe den letzten Artikel dieser Serie, wie er als Secret in GitHub hinterlegt werden kann).</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":796,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://www.lichti.de/wp-content/uploads/2021/04/Screenshot-2021-04-17-at-11.26.17.png" alt="" class="wp-image-796"/></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Damit ist quay.io vorbereitet.</p>
<p><!-- /wp:paragraph --></p>
